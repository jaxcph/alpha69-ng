<section class="page-title">
  <h1>Setup new live streaming session</h1>
</section>
<section class="new-session">

    <form fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="10px" #f="ngForm" (ngSubmit)="onSubmit(f)">
     
             
      <mat-form-field *ngIf="currentMember">
        <input type="text" matInput placeholder="Model name to use" ngModel name="modelName" required [(ngModel)]="currentMember.displayName"/> 
      </mat-form-field>
             
      <mat-form-field>
        <input type="text" matInput placeholder="Title" ngModel name="title" required />
      </mat-form-field>

      <mat-form-field>
          <input type="number" matInput placeholder="Minimum tip Amount" ngModel name="minTipAmount" required  value="0"/>
        </mat-form-field>
  
           
      <mat-form-field>
          <mat-select placeholder="Who can view?" ngModel name="accessType" required >
              <mat-option value="public"><u>Everyone</u> can view</mat-option>
              <mat-option value="member">all <u>Members</u> can view</mat-option>
              <mat-option value="level">only <u>Members</u> => <u>level</u> </mat-option>
              <mat-option value="onrequest"><u>Members</u> can <u>Request to join</u></mat-option>
            </mat-select>
      </mat-form-field>

      <mat-form-field *ngIf="f.value.accessType=='level'">
            <input type="number" matInput placeholder="Required level?" ngModel name="minLevel" value="0" />  
      </mat-form-field>

      <mat-slide-toggle labelPosition="after" color="accent" ngModel name="goalUse"  value="false">Do you want to set a Goal?</mat-slide-toggle>
      
      <ng-container *ngIf="f.value.goalUse">
        <mat-form-field>
            <input type="number" matInput placeholder="Goal Amount token (Target)" ngModel name="goalAmount" value="0" />
        </mat-form-field>
        <mat-form-field>
            <input type="text"  matInput placeholder="Goal description" ngModel name="goalDescription"  />
        </mat-form-field>
        <mat-form-field>
                <mat-select placeholder="Show Fx on goal complete?" ngModel name="goalDoneFx" >
                        <mat-option value="">No</mat-option>
                        <mat-option value="fx1">1 TBD</mat-option>
                        <mat-option value="fx2">2 TBD</mat-option>
                        <mat-option value="fx3">3 TBD</mat-option>
                        <mat-option value="fx3">4 TBD</mat-option>
                      </mat-select>
        </mat-form-field>
        <br>
      </ng-container>   
    

      <mat-slide-toggle labelPosition="after" color="accent" ngModel name="ppmUse"  value="false">Enable Pay-Per-Minute</mat-slide-toggle>

      <mat-form-field *ngIf="f.value.ppmUse">
          <input type="number" matInput placeholder="Tokens to Pay-Per-Minute" ngModel name="ppmAmount" value="0" />
      </mat-form-field>
      
      <mat-checkbox color="accent" ngModel name="agree" labelPosition="after" required>Agree to <a href="#">Terms and Conditions.</a></mat-checkbox>

      <button type="submit" mat-raised-button color="primary" [disabled]="f.invalid">Submit</button>

    </form>
  </section>
  
  